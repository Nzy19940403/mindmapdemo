{"version":3,"sources":["webpack:///./$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.html","webpack:///./src/app/mind-map/mind-map.component.html","webpack:///./src/app/mymindmap/mymindmap.component.html","webpack:///./src/app/mytest/mytest.component.html","webpack:///./src/app/testmind/testmind.component.html","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/mind-map/mind-map.component.css","webpack:///./src/app/mind-map/mind-map.component.ts","webpack:///./src/app/mind-map/mind-map.module.ts","webpack:///./src/app/mymindmap/mymindmap.component.css","webpack:///./src/app/mymindmap/mymindmap.component.ts","webpack:///./src/app/mytest/mytest.component.css","webpack:///./src/app/mytest/mytest.component.ts","webpack:///./src/app/testmind/testmind.component.css","webpack:///./src/app/testmind/testmind.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main-es2015.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./$$_lazy_route_resource lazy recursive\";","module.exports = \"\\n<!-- <app-mind-map></app-mind-map> -->\\n<!-- <app-testmind></app-testmind> -->\\n\\n    <app-mymindmap [mindmapdata]=\\\"mydata\\\"></app-mymindmap>\\n\\n\"","module.exports = \"<div class=\\\"mindmap-wrapper\\\">\\n    <svg class=\\\"mindmapsvg\\\"></svg>\\n    <svg class=\\\"movingsvg\\\"></svg>\\n</div>\"","module.exports = \"<div class=\\\"mindmap-wrapper\\\" #svgwrapper>\\n    <svg class=\\\"mindmapsvg\\\" #gcontainer>\\n        <g class=\\\"pathgroup\\\"></g>\\n    </svg>\\n    <svg class=\\\"dragSurface\\\"></svg>\\n\\n</div>\"","module.exports = \"<p>mytest works!</p>\\n\"","module.exports = \"<div class=\\\"mindmap-wrapper\\\">\\n    <svg class=\\\"mindmapsvg\\\"></svg>\\n    <svg class=\\\"movingsvg\\\"></svg>\\n</div>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nconst routes: Routes = [];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2FwcC5jb21wb25lbnQuY3NzIn0= */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent implements OnInit {\n  title = 'mindmapdemo';\n\n  mydata:any[] = []\n  ngOnInit(){\n\n    setTimeout(()=>{\n      this.mydata = [\n        {\n          text:'123',\n          parttenInfo:[\n            {width:100,y0:0},{width:100,y0:50}\n          ],\n          id:'0',\n          position:{x:0,y:0},\n          children:[\n            {\n              text:'122',\n              parttenInfo:[\n                {width:100,y0:0},{width:100,y0:50}\n              ],\n              id:'1',\n              position:{x:0,y:150},\n              children:[\n                {\n                  text:'大发大水发射',\n                  parttenInfo:[\n                    {width:100,y0:0},{width:100,y0:50}\n                  ],\n                  id:'6',\n                  position:{x:0,y:300},\n                  children:[           \n                  ]\n                },\n              ]\n            }, \n            {\n              text:'811',\n              parttenInfo:[\n                {width:200,y0:0},{width:200,y0:150}\n              ],\n              id:'5',\n              position:{x:300,y:350},\n              children:[\n                \n              ]\n            }\n          ]\n        },\n        {\n          text:'111',\n          parttenInfo:[\n            {width:200,y0:0},{width:200,y0:150}\n          ],\n          id:'3',\n          position:{x:300,y:150},\n          children:[\n            {\n              text:'911',\n              parttenInfo:[\n                {width:200,y0:0},{width:200,y0:150}\n              ],\n              id:'4',\n              position:{x:0,y:350},\n              children:[\n                \n              ]\n            },\n            // {\n            //   text:'811',\n            //   parttenInfo:[\n            //     {width:200,y0:0},{width:200,y0:150}\n            //   ],\n            //   id:'5',\n            //   position:{x:300,y:350},\n            //   children:[\n                \n            //   ]\n            // }\n          ]\n        }\n      ]\n    },0)\n    \n  }\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { MindMapModule } from './mind-map/mind-map.module';\nimport { TestmindComponent } from './testmind/testmind.component';\nimport { MymindmapComponent } from './mymindmap/mymindmap.component';\nimport { MytestComponent } from './mytest/mytest.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    TestmindComponent,\n    MymindmapComponent,\n    MytestComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    MindMapModule\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \".mindmap-wrapper{\\r\\n    height: 100%;\\r\\n}\\r\\n.mindmapsvg{\\r\\n    height:100%;\\r\\n    width: 100%;\\r\\n}\\r\\n.movingsvg{\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    display: none;\\r\\n    overflow: visible !important;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbWluZC1tYXAvbWluZC1tYXAuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7QUFDaEI7QUFDQTtJQUNJLFdBQVc7SUFDWCxXQUFXO0FBQ2Y7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sT0FBTztJQUNQLGFBQWE7SUFDYiw0QkFBNEI7QUFDaEMiLCJmaWxlIjoic3JjL2FwcC9taW5kLW1hcC9taW5kLW1hcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1pbmRtYXAtd3JhcHBlcntcclxuICAgIGhlaWdodDogMTAwJTtcclxufVxyXG4ubWluZG1hcHN2Z3tcclxuICAgIGhlaWdodDoxMDAlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuLm1vdmluZ3N2Z3tcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDtcclxufSJdfQ== */\"","import { Component, OnInit } from '@angular/core';\nimport * as D3 from 'd3'\nimport * as _ from 'lodash'\n\n@Component({\n  selector: 'app-mind-map',\n  templateUrl: './mind-map.component.html',\n  styleUrls: ['./mind-map.component.css']\n})\nexport class MindMapComponent implements OnInit {\n\n  constructor() { }\n  mindmapsvg:any\n  mindmapData:any[] = []\n  formatMindmapData:any[] = []\n\n  \n  preMindmapData:any[] = []\n  preFormatMindmapData:any[] = []\n\n  currentDraggingData:any = null\n  currentDraggingDataDirectParentId:any = null\n  curr\n\n  movingMindmapData:any[] = []\n  movingMindmapsvg:any\n  formatMovingMindmapData:any[] = []\n\n  ngOnInit() {\n    this.movingMindmapsvg = D3.select('svg.movingsvg')\n    this.getData()\n  }\n\n  getData(){\n    this.mindmapData = [\n      {\n        text:'123',\n        parttenInfo:[\n          {width:200,y0:0},{width:200,y0:150}\n        ],\n        id:0,\n        position:{x:0,y:0},\n        children:[\n          {\n            text:'122',\n            parttenInfo:[\n              {width:200,y0:0},{width:200,y0:150}\n            ],\n            id:1,\n            position:{x:0,y:150},\n            children:[\n              {\n                text:'111',\n                parttenInfo:[\n                  {width:200,y0:0},{width:200,y0:150}\n                ],\n                id:3,\n                position:{x:0,y:150},\n                children:[\n                  \n                ]\n              }\n            ]\n          },\n          \n        ]\n      },\n      \n    ]\n\n    this.formatMindmapData = this.doFormatArrayData(this.mindmapData[0])\n\n    this.mindmapsvg = D3.select('svg.mindmapsvg')\n    .append('g')\n    .classed('originwrap',true)\n\n    this.initMindMapSvg()\n  }\n\n  initMindMapSvg(){\n    let _this = this\n  \n\n    // this.mindmapsvg = D3.select('svg.mindmapsvg')\n    // .append('g')\n    // .classed('originwrap',true)\n    \n   \n    let node = this.mindmapsvg.selectAll('g')\n    .data(\n      [_this.formatMindmapData],\n      // function(d){\n        \n      //   return d.data.id\n      // }\n    )\n\n\n    this.initNode(node)\n\n\n  }\n  initNode(node){\n    console.log(this.formatMindmapData)\n\n    let _this = this\n\n    let drawtype = D3.area()\n    .x0(function(d){\n      \n      return 0;\n    })\n    .x1(function(d){\n      return d.width;\n    })\n    .y(function(d){\n      \n      return d.y0;\n    })\n    let wrappernode = node.enter().append('g')\n    .each(function(d){\n\n      D3.select(this).classed(`blocklyDraggable${d.data.id}`,true)\n    })\n    // .classed('blocklyDraggable',true)\n    // node.exit().remove()\n    node.exit()\n    .each(function(d){\n    \n      if(d.data.id==_this.currentDraggingData.id){\n        D3.select(this).remove()\n      }\n    \n    })\n\n\n    wrappernode\n    .attr(\"transform\",function(d){\n      return `translate(${d.data.position.x},${d.data.position.y})`\n    })\n    .append('path')\n    .attr(\"stroke\",\"#555\")\n    .attr(\"stroke-opacity\",0.4)\n    .attr(\"stroke-width\",1.5)\n    .attr('fill', '#ffee4d')\n    .classed('mytest',(d)=>{\n      return true\n    })\n    .attr('d',function(d){\n      \n      return drawtype(d.data.parttenInfo)\n    })\n    .each(function(data){\n      // debugger\n      if(data.children){\n       \n        let t = D3.select(this.parentNode).selectAll('g')\n        .data(\n          data.children,\n          function(data){\n       \n            return data.data.id\n          }\n        )\n        \n        _this.initNode(t)\n      }\n      \n    })\n    .on('click',function(data){\n      console.log(data)\n    })\n    .call(\n      D3.drag()\n      .container(function(d){\n        return this.farthestViewportElement\n      })\n      .subject(function(data){\n        let t = D3.select(this.parentNode).attr('transform').split(',')\n        let clientx = Number(t[0].split('(')[1])\n        let clienty = Number(t[1].split(')')[0])    \n        return {x:clientx,y: clienty}\n\n      })\n      .on('start',function(d){\n        //找出当前的this代表的数据在总的mindmapdata中归属于哪个对象\n        // console.log(d)\n        let nodelist = d.ancestors()\n        let parent = nodelist[nodelist.length-1]\n        let self = nodelist[0]\n        let selfDirectParent = nodelist[1]\n        \n        _this.changeMindMapData(parent,self,selfDirectParent)\n \n        _this.activeMovingSvg()\n\n      \n      })\n      .on('drag',function(data){\n        let t = D3.select(this.parentNode)\n        \n        t.attr('transform', `translate(${D3.event.subject.x += D3.event.dx },${D3.event.subject.y +=D3.event.dy })`)\n      })\n      .on('end',function(d){\n   \n        d.data.position.x = (D3.event.subject.x += D3.event.dx)\n        d.data.position.y = (D3.event.subject.x += D3.event.dx)\n\n        _this.movingMindmapData=[]\n\n        _this.resetMindMapData()\n\n      })\n      \n\n    )\n    \n    wrappernode\n    .append('text')\n    .attr(\"y\",function(d){\n      return 10\n    })\n    .style(\"fill\", \"red\")\n    .text(function(d){\n    \n      return d.data.text\n    })\n    .attr('dy','.35em')\n\n\n  }\n  changeMindMapData(parentdata,selfdata,selfDirectParentdata){\n    // let _this = this\n    let parentid = parentdata.data.id\n    let selfid = selfdata.data.id\n\n    //self的祖先parent\n    let parent = _.find(this.mindmapData,{id:parentid})\n    let self = this.getSelfFromTree(parent,selfid)\n    // console.log(self)\n    //首先将当前的mindmapdata深拷贝保存一下 然后改变mindmapdata 将正在拖拽的东西及其children删除 并将其添加到movingsvg中进行运动\n    this.preMindmapData = _.cloneDeep(this.mindmapData)\n    this.preFormatMindmapData = _.cloneDeep(this.formatMindmapData)\n    this.currentDraggingData = _.cloneDeep(self)\n    //self没有直接父元素的时候（可能这时候self本身没有父元素）\n   \n    if(!selfDirectParentdata){\n      //此时没有父元素 那么 它的父元素就是mindmapdata\n      _.remove(this.mindmapData,{id:self.id})\n      \n      // this.movingMindmapData.push(this.currentDraggingData)\n    \n    }else{\n      //此时有直接父元素 对直接父元素进行操作，将其children删除\n      let directParent = this.getSelfFromTree(parent,selfDirectParentdata.data.id)\n      this.currentDraggingDataDirectParentId = directParent.id\n      _.remove(directParent.children,{id:self.id})\n    \n      // this.movingMindmapData.push(this.currentDraggingData)\n    }\n    this.movingMindmapData.push(this.currentDraggingData)\n    \n    //更新一下formatmindmapdata\n    this.formatMindmapData = this.doFormatArrayData(this.mindmapData[0])\n \n    //去除多余的mindmapsvg\n  \n    let newnode = this.mindmapsvg.selectAll('g')\n    .data(\n      this.formatMindmapData,\n      function(d){\n        return d.data.id\n      }\n    )\n\n    this.initNode(newnode)\n    \n\n  }\n\n  updateSvgNode(node){\n    let _this = this\n\n    let drawtype = D3.area()\n    .x0(function(d){\n      \n      return 0;\n    })\n    .x1(function(d){\n      return d.width;\n    })\n    .y(function(d){\n      \n      return d.y0;\n    })\n    \n    \n    \n  \n  \n  }\n\n  getSelfFromTree(data,targetid:number,target=null){\n   \n    if(!target){\n      if(_.isArray(data)){\n        let t = _.find(data,{id:targetid}) \n        if(t){\n          target = t\n         \n        }else{\n          data.forEach(element => {\n            let t = this.getSelfFromTree(element,targetid,target)\n            if(t){\n              target = t\n            }\n          });\n        }\n        return target\n     \n      }else if(_.isPlainObject(data)){\n        if(data.id==targetid){ \n          target = data\n        }else{\n          data.children.forEach(element => {\n            let t = this.getSelfFromTree(element,targetid,target)\n            if(t){\n              target = t\n            }\n          });\n        }\n        return target&&target\n      }\n\n      \n    }\n    // else{\n    //   return target\n    // }\n    \n  }\n\n  activeMovingSvg(){\n    //将movingmindmapdata格式化再对应视图\n    let _this = this\n    let drawtype = D3.area()\n    .x0(function(d){\n      \n      return 0;\n    })\n    .x1(function(d){\n      return d.width;\n    })\n    .y(function(d){\n      \n      return d.y0;\n    })\n\n    this.movingMindmapsvg\n    .classed('actived',true)\n    \n    this.formatMovingMindmapData = this.doFormatArrayData(this.movingMindmapData)\n    \n\n    let node = this.movingMindmapsvg\n    .append('g')\n    .classed('movingwrapper',true)\n    .selectAll('g')\n    .data(\n      _this.formatMovingMindmapData,\n      function(d){\n      \n        return d.data.id\n      }\n    )\n    \n    let wrapnode = node.enter().append('g').classed('blocklyDraggable',true)\n    node.exit().remove()\n\n    wrapnode\n    .attr(\"transform\",function(d){\n      return `translate(${d.data.position.x},${d.data.position.y})`\n    })\n    .append('path')\n    .attr(\"stroke\",\"#555\")\n    .attr(\"stroke-opacity\",0.4)\n    .attr(\"stroke-width\",1.5)\n    .attr('fill', '#ffee4d')\n    .classed('mytest',(d)=>{\n      return true\n    })\n    .attr('d',function(d){\n      return drawtype(d.data.parttenInfo)\n    })\n\n\n    \n\n  }\n\n  resetMindMapData(){\n    let _this = this\n   \n\n    if(_.find(this.preMindmapData,{id:this.currentDraggingData.id})){\n      this.mindmapData.push(_.cloneDeep(this.currentDraggingData))\n    }else{\n      //currentDraggingData有直接父元素\n      this.mindmapData\n      let directparent = this.getSelfFromTree(this.mindmapData,this.currentDraggingDataDirectParentId)\n      directparent.children.push(_.cloneDeep(this.currentDraggingData))\n\n      let test = this.doFormatArrayData(this.currentDraggingData)\n\n      let node = this.mindmapsvg.select('g.blocklyDraggable1').selectAll('g')\n      .data(\n        [test],\n        function(d){\n        \n          return d.data.id\n        }\n      )\n    \n      // .each(\n      //   function(d){\n      //     debugger\n      //   }\n      // )\n      // .enter()\n      // .append('g')\n      \n      this.initNode(node)\n    }\n\n     //更新一下formatmindmapdata\n     this.formatMindmapData = this.doFormatArrayData(this.mindmapData[0])\n    debugger\n    //  去除多余的mindmapsvg\n    // this.mindmapsvg.select('g').remove()\n\n    // this.initMindMapSvg()\n\n\n\n     this.movingMindmapsvg\n     .classed('actived',false)\n     .select('g')\n     .remove()\n \n       \n\n\n\n  }\n  doFormatArrayData(data){\n    //格式化数据\n    let target = []\n    let tree = D3.cluster()\n\n    // data.forEach((item)=>{\n    //   item = D3.hierarchy(item) \n\n    //   target.push(item)\n    // })\n    \n    target = D3.hierarchy(data)\n    // debugger\n    return target\n  }\n\n\n  mytest(data){\n    let _this = this\n    \n    \n     data\n     .each(function(data){\n      if(data.children){\n\n        let t = D3.select(this.parentNode).selectAll('g')\n        .data(\n          data.children,\n          function(data){\n       \n            return data.data.id\n          }\n        )\n        \n        _this.mytest(t)\n      }\n\n     })\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MindMapComponent } from './mind-map.component';\n\n@NgModule({\n  declarations: [MindMapComponent],\n  imports: [\n    CommonModule\n  ],\n  exports: [MindMapComponent]\n})\nexport class MindMapModule { }\n","module.exports = \".mindmap-wrapper{\\r\\n    height:100%;\\r\\n    width: 100%;\\r\\n}\\r\\n.mindmapsvg{\\r\\n    height:100%;\\r\\n    width: 100%;\\r\\n}\\r\\n.dragSurface{\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    display: none;\\r\\n    overflow: visible !important;\\r\\n    /* background: red; */\\r\\n}\\r\\n.actived.dragSurface{\\r\\n    display: block;\\r\\n \\r\\n}\\r\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbXltaW5kbWFwL215bWluZG1hcC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksV0FBVztJQUNYLFdBQVc7QUFDZjtBQUNBO0lBQ0ksV0FBVztJQUNYLFdBQVc7QUFDZjtBQUNBO0lBQ0ksa0JBQWtCO0lBQ2xCLE1BQU07SUFDTixPQUFPO0lBQ1AsYUFBYTtJQUNiLDRCQUE0QjtJQUM1QixxQkFBcUI7QUFDekI7QUFDQTtJQUNJLGNBQWM7O0FBRWxCIiwiZmlsZSI6InNyYy9hcHAvbXltaW5kbWFwL215bWluZG1hcC5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1pbmRtYXAtd3JhcHBlcntcclxuICAgIGhlaWdodDoxMDAlO1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbn1cclxuLm1pbmRtYXBzdmd7XHJcbiAgICBoZWlnaHQ6MTAwJTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcbi5kcmFnU3VyZmFjZXtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbiAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgb3ZlcmZsb3c6IHZpc2libGUgIWltcG9ydGFudDtcclxuICAgIC8qIGJhY2tncm91bmQ6IHJlZDsgKi9cclxufVxyXG4uYWN0aXZlZC5kcmFnU3VyZmFjZXtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gXHJcbn1cclxuIl19 */\"","import { Component, OnInit, Input, Inject, ViewChild, Output, EventEmitter } from '@angular/core';\nimport * as D3 from 'd3';\nimport * as _ from 'lodash';\nimport { DOCUMENT } from '@angular/common';\nimport { Subject, interval } from 'rxjs';\nimport {debounce, filter} from 'rxjs/operators' \n\n@Component({\n  selector: 'app-mymindmap',\n  templateUrl: './mymindmap.component.html',\n  styleUrls: ['./mymindmap.component.css']\n})\nexport class MymindmapComponent implements OnInit {\n\n  _mindmapdata:any[] = []\n  formatMindmapLinklist:any[] = [] //经过格式化后的link数据集合\n\n  mindmapSvg:any = null\n  dragSurface:any = null\n\n  currentDraggingDataId:number|null = null\n  currentDraggingData:any = null\n\n  currentDraggingCoor:any = null\n\n  //最后将要落点的id\n  currentAboutToDropTargetId:string|null = null\n\n\n\n  positionCompareTrigger$ = new Subject()\n\n  @Input() \n  get  mindmapdata():any[]{\n    return this._mindmapdata\n  }\n  set mindmapdata(data){\n \n    this._mindmapdata = _.cloneDeep(data)\n    this.initMindmapData(this._mindmapdata)\n  }\n  @Input() wrapperClientTop:number = 0\n  @Input() wrapperClientLeft:number = 0\n\n  @ViewChild('svgwrapper',{static:true}) svgwrapper\n  @ViewChild('gcontainer',{static:true}) gcontainer\n\n  constructor(\n    @Inject(DOCUMENT) private document:any,\n  ) { \n   \n  }\n\n  ngOnInit() {\n    this.initToolList()\n  }\n  initToolList(){\n    this.mindmapSvg =D3.select('svg.mindmapsvg').append('g').classed('originWrapper',true)\n    D3.select('svg.mindmapsvg').append('g').classed('originPathWrapper',true)\n\n    this.dragSurface = D3.select('svg.dragSurface').attr('transform', `translate(0,0)`)\n\n    this.initComparePositionWatcher()\n    \n  }\n  initComparePositionWatcher(){\n    //初始化位置比较的观察者\n    this.positionCompareTrigger$\n    .pipe(\n      debounce(\n        ()=>interval(300)\n      ),\n      filter(()=>{\n        if(this.currentDraggingData.length==0){\n          //给一定的响应时间 如果在响应时间之前就已经drop了 那么这个时候不应该再去执行位置检测操作\n          return false\n        }else{\n          return true\n        } \n      })\n    )\n    .subscribe(\n      res=>{\n        let _this = this\n        let list = D3.select('svg.mindmapsvg').selectAll('g.draggingwrapper')\n\n        this.currentDraggingCoor = res\n        this.currentAboutToDropTargetId = null\n        \n        this.doCheckDataChange()\n        if(this.currentAboutToDropTargetId){\n       \n          list.each(function(d){\n            if(d.data.id==_this.currentAboutToDropTargetId){\n              D3.select(this).classed('aboutToDrop',true)\n            }else{\n              D3.select(this).classed('aboutToDrop',false)\n            }\n          })\n       \n        }else{\n          list.each(function(d){        \n            D3.select(this).classed('aboutToDrop',false)     \n          })\n        }\n        \n      }\n    )\n  }\n  initMindmapData(target:any[]){\n    //在此处理一下mindmap的数据，下一步再进行渲染\n    this.countMindmapLinks()\n\n    let array = []\n    let linksArray = []\n    target.forEach((item)=>{\n      let root = D3.hierarchy(item)\n\n      let list = root.links()\n      \n      linksArray=_.concat(linksArray,list)  \n      \n      array.push(root)\n    })\n    linksArray\n    // debugger\n    // console.log(this.formatMindmapLinklist)\n    this.initMindmapSvg(array)\n    this.initMindmapLinks(linksArray)\n  }\n  countMindmapLinks(){\n    //在这里需要根据每个方块的位置和大小 计算出其对应的坐标，然后将其中的link整理出来 放在统一个数组里面保存 每次渲染mindmap的时候 都需要重新计算 并渲染相应的link\n    //输入口和输出口应该是有对应关系的 目前暂定模式为水平和竖直 先写死竖直\n    //清理之前的link数据 后面重新计算生成\n    // this.formatMindmapLinklist = []\n    this.countOutputAndImportData(this._mindmapdata,'vertical')\n\n  }\n  countOutputAndImportData(data,type?:string){\n    if(type=='vertical'){\n      //垂直方向\n      if(_.isArray(data)){\n        data.forEach(element => {\n          this.countOutputAndImportData(element,type)\n        });\n      }else if(_.isPlainObject(data)){\n\n        let height=data.parttenInfo[0].y0>data.parttenInfo[1].y0?data.parttenInfo[0].y0:data.parttenInfo[1].y0;\n        let width=data.parttenInfo[0].width>data.parttenInfo[1].width?data.parttenInfo[0].width:data.parttenInfo[1].width;\n        data.importNode={\n          x:data.position.x + width/2,\n          y:data.position.y\n        },\n        data.outputNode={\n          x:data.position.x + width/2,\n          y:data.position.y + height\n        }\n\n        if(data.children && data.children.length>0){\n          this.countOutputAndImportData(data.children,type)\n        }\n\n      }\n    }\n  }\n  initMindmapSvg(target){\n  \n    let _this = this\n    // 长方形area\n    let drawtype = D3.area()\n    .x0(function(d){\n      return 0;\n    })\n    .x1(function(d){\n      return d.width;\n    })\n    .y(function(d){\n      return d.y0;\n    })\n\n   \n    let svg = D3.select('svg.mindmapsvg')\n    .selectAll('g.originWrapper')\n    .selectAll('g.block')\n    .data(\n      target,\n      function(d){\n        return d.data.id\n      }\n    )\n\n    svg\n    .enter()\n    .append('g')\n    .classed('block',true)\n\n    svg.exit().remove()\n\n\n    D3.select('svg.mindmapsvg')\n    .selectAll('g.originWrapper')\n    .selectAll('g.block')\n    .each(\n      function(d){\n       \n        let mydata = d.descendants()\n        let mynode = D3.select(this)\n        .selectAll('g')\n        .data(\n          mydata,\n          function(d){\n            return d.data.id\n          }\n        )\n\n        mynode.exit().remove()\n        \n        let wrapper =mynode\n        .enter()\n        .append('g')\n        .classed('draggingwrapper',true)\n        .attr(\"transform\",function(d){\n          \n          return `translate(${d.data.position.x},${d.data.position.y})`\n        })\n\n        \n\n        wrapper\n        .append('path')\n        // .attr(\"stroke\",\"#555\")\n        .attr(\"stroke-opacity\",0.4)\n        .attr(\"stroke-width\",1.5)\n        // .attr('fill', '#ffee4d')\n        .classed('mydragpath',(d)=>{\n          return true\n        })\n        .attr('d',function(d){\n          \n          return drawtype(d.data.parttenInfo)\n        })\n        .call(\n          D3.drag()\n          .container(function(d){\n              \n            return _this.gcontainer.nativeElement\n            // return this.ownerDocument\n          })\n          .subject(function(data){\n\n            let t = D3.select(this.parentNode)\n            .attr('transform').split(',')\n\n            let clientx = Number(t[0].split('(')[1])\n            let clienty = Number(t[1].split(')')[0])    \n            return {x:clientx,y: clienty}\n    \n          })\n          .on('start',function(d){\n            //找出当前的this代表的数据在总的mindmapdata中归属于哪个对象\n            // console.log(d)\n            \n            _this.changeMindmapSvg(d)\n            _this.initDragSurface()\n\n            // _this.initMindmapData(_this._mindmapdata)\n          })\n          .on('drag',function(data){\n            // let t = D3.select(this.parentNode)\n            // console.log('drag')\n            let t = D3.select('svg.dragSurface')\n            .attr('transform').split(',')\n\n            // let clientx = Number(t[0].split('(')[1])\n            // let clienty = Number(t[1].split(')')[0])    \n            \n            let dragsurfaceCoor =  D3.mouse(_this.gcontainer.nativeElement)\n\n            D3.select('svg.dragSurface').attr('transform', `translate(${D3.event.subject.x + _this.wrapperClientLeft},${D3.event.subject.y + _this.wrapperClientTop})`)\n\n            D3.select(this.parentNode).attr('transform', `translate(${D3.event.subject.x += D3.event.dx },${D3.event.subject.y +=D3.event.dy })`)\n\n\n            //dragsurface的相对于mindmapsvg的坐标和鼠标坐标\n            let obj = {\n              x:D3.event.subject.x + _this.wrapperClientLeft,\n              y:D3.event.subject.y + _this.wrapperClientTop,\n              mousecoor:dragsurfaceCoor,\n              parttenInfo:_.cloneDeep(data.data.parttenInfo)  \n            }\n            \n            _this.positionCompareTrigger$.next(obj)\n\n            \n          \n\n          })\n          .on('end',function(d){\n            let dragsurfaceCoor =  D3.mouse(_this.gcontainer.nativeElement)\n            let mydata = {\n              x:D3.event.subject.x + _this.wrapperClientLeft,\n              y:D3.event.subject.y + _this.wrapperClientTop,\n              mousecoor:dragsurfaceCoor,\n              parttenInfo:_.cloneDeep(d.data.parttenInfo)  \n            }\n            \n            _this.doCheckDataChange(mydata)\n\n            // debugger\n            let obj ={\n              x:d.data.position.x -(D3.event.subject.x += D3.event.dx),\n              y:d.data.position.y - (D3.event.subject.y += D3.event.dy)\n            }\n       \n            _this.rewriteMindmapData(d,obj)\n\n            // D3.select('svg.dragSurface').attr('transform', `translate(${0},${0})`)\n            D3.select('svg.dragSurface').classed('actived',false)\n            D3.select('g.aboutToDrop').classed('aboutToDrop',false)\n\n            _this.reset()\n\n          })\n          \n    \n        )\n        .each(\n          function(d){\n            D3.select(this.parentNode)\n            .append('text')\n            .attr(\"y\",function(d){\n              return 10\n            })\n            .style(\"fill\", \"red\")\n            .classed('textbox',true)\n            .html(function(d){\n              \n              return `${d.data.text}`\n            })\n            .attr('dy','.35em')\n\n\n            // D3.select(this.parentNode)\n            // .append('text')\n            // .attr(\"y\",function(d){\n            //   return 20\n            // })\n            // .style(\"fill\", \"red\")\n            // .classed('textbox',true)\n            // .html(function(d){\n              \n            //   return `${d.data.text}`\n            // })\n            // .attr('dy','.35em')\n\n            // D3.select(this.parentNode)\n            // .append('foreignObject')\n            // .attr('width', '60px')\n            // .attr('height', '50px')\n            // .attr('x', 0) \n            // .append('xhtml:div').style('height','100%').style('width','100%').style('overflow','scroll')\n            // .append('xhtml:app-mytest')\n            // .html(`asdfas\n            // dadsf\n            // asdfas\n            // dfa\n            // sdf`)\n            // .on('click',function(d){\n            //   console.log(d)\n            // })\n\n            \n          }\n        )\n\n        \n      }\n    )\n\n    \n  }\n  initMindmapLinks(data){\n    // debugger\n    let target = []\n    data.forEach(element => {\n      let obj ={\n        source:{\n          x:element.source.data.outputNode.x,\n          y:element.source.data.outputNode.y\n        },\n        target:{\n          x:element.target.data.importNode.x,\n          y:element.target.data.importNode.y\n        }\n      }\n      target.push(obj)\n    });\n\n   \n    let linktype = D3.linkVertical()\n    .x(d=>{\n      // debugger\n      return d.x\n    })\n    .y(d=>{\n      return d.y\n    })\n\n    D3.select('svg.mindmapsvg')\n    .select('g.originPathWrapper')\n    .attr(\"fill\", \"none\")\n    .selectAll('path')\n    .data(\n      target\n    )\n    .join('path')\n    .attr('stroke','red')\n    // .attr(\"stroke\", \"#555\")\n    .attr(\"stroke-opacity\", 0.4)\n    .attr(\"stroke-width\", 2)\n    .attr('d',linktype)\n   \n  }\n  initDragSurface(){\n    //拖拽时候的浮层\n \n    this.handleAddRelativeCoor(this.currentDraggingData,true)\n\n    D3.select('svg.dragSurface').attr('transform', `translate(${this.currentDraggingData.position.x + this.wrapperClientLeft },${this.currentDraggingData.position.y +this.wrapperClientTop})`)\n    \n    D3.select('svg.dragSurface').classed('actived',true)\n    let drawtype = D3.area()\n    .x0(function(d){\n      return 0;\n    })\n    .x1(function(d){\n      return d.width;\n    })\n    .y(function(d){\n      return d.y0;\n    })\n \n\n    let array = []\n\n    let root = D3.hierarchy(this.currentDraggingData)\n    array.push(root)\n\n    let svg = D3.select('svg.dragSurface')\n    .selectAll('g.block')\n    .data(\n      array,\n      function(d){\n        return d.data.id\n      }\n    )\n\n    svg\n    .enter()\n    .append('g')\n    .classed('block',true)\n\n    svg.exit().remove()\n\n    \n    D3.select('svg.dragSurface')\n    .selectAll('g.block')\n    .each(\n      function(d){\n      \n        let mydata = d.descendants()\n        let mynode = D3.select(this)\n        .selectAll('g')\n        .data(\n          mydata,\n          function(d){\n            return d.data.id\n          }\n        )\n\n        mynode.exit().remove()\n        \n        mynode\n        .enter()\n        .append('g')\n        .classed('draggingwrapper',true)\n        .attr(\"transform\",function(d){\n          if(d.data.relativecoor){\n            return `translate(${d.data.relativecoor.x},${d.data.relativecoor.y})`\n          }\n          \n        })\n        .append('path')\n        .attr(\"stroke\",\"#555\")\n        .attr(\"stroke-opacity\",0.4)\n        .attr(\"stroke-width\",1.5)\n        .attr('fill', '#ffee4d')\n        .attr('d',function(d){      \n          return drawtype(d.data.parttenInfo)\n        })\n        .each(\n          function(d){\n            D3.select(this.parentNode)\n            .append('text')\n            .attr(\"y\",function(d){\n              return 10\n            })\n            .style(\"fill\", \"red\")\n            .text(function(d){\n            \n              return d.data.text\n            })\n            .attr('dy','.35em')\n          }\n        )\n\n        \n      }\n    )\n\n    //删除mindmap多余部分\n    this.initMindmapData(this._mindmapdata)\n\n  }\n  handleAddRelativeCoor(data,isAncestor,parentcoor?){\n    //计算拖拽物体每个的相对距离\n    if(!data||data.length==0) return\n\n    if(isAncestor){\n      data.relativecoor={x:0,y:0}\n    }else{\n      data.relativecoor={\n        x:data.position.x - parentcoor.x,\n        y:data.position.y - parentcoor.y,\n      }\n    }\n    \n    if(data.children){\n      data.children.forEach(element => {\n        let obj = _.cloneDeep(data.position)\n        let coor = {\n          x:obj.x - data.relativecoor.x,\n          y:obj.y - data.relativecoor.y\n        }\n\n        this.handleAddRelativeCoor(element,false,coor)\n      });\n      \n    }\n\n    \n\n  }\n\n\n  rewriteMindmapData(data,obj){\n    //拖拽结束后触发\n    //重写mindmapdata  在这里可能改变mindmap的嵌套关系\n    \n    if(this.currentAboutToDropTargetId){\n      //如果id为数字0的时候 可能会逃过这个分支 所以需要另作判断\n\n      let directparent = this.getSelfFromTree(this._mindmapdata,this.currentAboutToDropTargetId)\n      this.handleCountCurrentDraggingData(this.currentDraggingData,obj)\n      directparent.children.push(_.cloneDeep(this.currentDraggingData))\n  \n      this.currentAboutToDropTargetId = null\n    }else{\n      //没有droptargetid  就不改变结构\n      let formatnodelist = data.ancestors()\n      this.handleCountCurrentDraggingData(this.currentDraggingData,obj)\n\n      if(formatnodelist.length>1){\n        //祖先不是自己\n        let parent = this.getSelfFromTree(this._mindmapdata,formatnodelist[1].data.id)\n        parent.children.push(_.cloneDeep(this.currentDraggingData))\n\n      }else{\n        //祖先就是自己\n\n        this._mindmapdata.push(_.cloneDeep(this.currentDraggingData))\n      }\n    }\n    \n\n    \n    \n    \n\n  }\n\n  handleCountCurrentDraggingData(target,data){\n    if(!target) return\n\n    target.position.x -= data.x\n    target.position.y -= data.y\n\n    if(target.children.length>0){\n      target.children.forEach(element => {\n        this.handleCountCurrentDraggingData(element,data)\n      });\n      \n    }\n\n    this.handleRemoveRelativeCoor(this.currentDraggingData)\n\n  }\n  handleRemoveRelativeCoor(data){\n    if(!data||data.length==0) return\n    delete data.relativecoor\n    if(data.children){\n      data.children.forEach(element => {\n        this.handleRemoveRelativeCoor(element)\n      });\n      \n    }\n  }\n  getSelfFromTree(data,targetid:string,target=null){\n   \n    if(!target){\n      if(_.isArray(data)){\n        let t = _.find(data,{id:targetid}) \n        if(t){\n          target = t\n         \n        }else{\n          data.forEach(element => {\n            let t = this.getSelfFromTree(element,targetid,target)\n            if(t){\n              target = t\n            }\n          });\n        }\n        return target\n     \n      }else if(_.isPlainObject(data)){\n        if(data.id==targetid){ \n          target = data\n        }else{\n          data.children.forEach(element => {\n            let t = this.getSelfFromTree(element,targetid,target)\n            if(t){\n              target = t\n            }\n          });\n        }\n        return target&&target\n      }\n    }\n    \n  }\n  reset(){\n    this.initMindmapData(this._mindmapdata)\n    // this.initMindmapSvg([])\n    // let array = []\n    // this._mindmapdata.forEach((item)=>{\n    //   let root = D3.hierarchy(item)\n    //   array.push(root)\n    // })\n    \n    this.currentDraggingCoor = null\n    // this.initMindmapSvg(array)\n    \n    this.clearDragSurface()\n  }\n  changeMindmapSvg(data){\n    //该点的祖先元素\n    let formatnodelist = data.ancestors()\n    let self\n\n    if(formatnodelist.length>1){\n      //将自身从直接父元素种删除\n      let directparent = this.getSelfFromTree(this._mindmapdata,formatnodelist[1].data.id)\n      self = _.cloneDeep(this.getSelfFromTree(directparent.children,data.data.id))\n     \n      _.remove(directparent.children,{id:data.data.id})\n\n    \n    }else{\n      //他本身即是祖先\n      self =_.cloneDeep(this.getSelfFromTree(this._mindmapdata,data.data.id))\n\n      _.remove(this._mindmapdata,{id:data.data.id})\n    }\n\n    this.currentDraggingData = self\n\n  \n    // this.initMindmapData(this._mindmapdata)\n\n    \n  }\n\n  clearDragSurface(){\n    this.currentDraggingData = []\n\n    D3.select('svg.dragSurface').selectAll('g').remove()\n  }\n\n  doCheckDataChange(checkBeforeEnd?:any){\n    //检查是否可以变更mindmap数据\n    //如果可以 将可以变更的父元素记录下来 然后rewrite的时候 将拖拽的data加入其种\n    //如果不行则为null  防止这种情况发生 就是一开始有选中的目标 但是我又移动了 这时候应该取消选中目标 \n    //这情况应该是在drop发生的时候，如果有目标了 再进行一次检查 来做二次保险 以drop时候的结果为准\n\n    // console.log(this.currentDraggingCoor)\n    if(checkBeforeEnd){\n      //drop前的最后检测\n      this.currentAboutToDropTargetId = null\n      let draggingDataCircleInfo = this.getDraggingUnrealCircleInfo(checkBeforeEnd)\n  \n      //深拷贝一份用来做判定的mindmap数据\n      let compareData = _.cloneDeep(this._mindmapdata)\n\n      this.getUnrealCircleInfo(compareData)\n\n      this.doDeepCompare(compareData,draggingDataCircleInfo)\n\n    \n\n    }else{\n      if(!this.currentDraggingCoor) return\n      let draggingDataCircleInfo = this.getDraggingUnrealCircleInfo(this.currentDraggingCoor)\n\n      //深拷贝一份用来做判定的mindmap数据\n      let compareData = _.cloneDeep(this._mindmapdata)\n\n      this.getUnrealCircleInfo(compareData)\n      \n      this.doDeepCompare(compareData,draggingDataCircleInfo)\n    }\n    \n    \n  }\n  getDraggingUnrealCircleInfo(data){\n    //只是获取拖拽的那个path的长宽 \n    \n    let height=data.parttenInfo[0].y0>data.parttenInfo[1].y0?data.parttenInfo[0].y0:data.parttenInfo[1].y0;\n    let width=data.parttenInfo[0].width>data.parttenInfo[1].width?data.parttenInfo[0].width:data.parttenInfo[1].width;\n  \n    let obj ={\n      center:{\n        x:data.x+width/2,\n        y:data.y+height/2\n      },\n      radius:height>width?width/2:height/2\n    }\n \n    return obj\n\n  }\n\n  getUnrealCircleInfoOfObject(data){\n    let height=data.parttenInfo[0].y0>data.parttenInfo[1].y0?data.parttenInfo[0].y0:data.parttenInfo[1].y0;\n    let width=data.parttenInfo[0].width>data.parttenInfo[1].width?data.parttenInfo[0].width:data.parttenInfo[1].width;\n  \n    let obj ={\n      center:{\n        x:data.position.x+width/2,\n        y:data.position.y+height/2\n      },\n      radius:height>width?width/2:height/2\n    }\n \n    return obj\n  }\n  getUnrealCircleInfo(data){\n    //赋予虚拟的圆心信息 ，圆心用来比较是否两块path是否重叠 重叠了即产生了可drop的target\n    if(_.isArray(data)){\n      data.forEach(item => {\n        item.unrealCircleInfo = this.getUnrealCircleInfoOfObject(item)\n        if(item.children&&item.children.length>0){\n          this.getUnrealCircleInfo(item.children)\n        }\n      });\n    }else if(_.isPlainObject(data)){\n      data.unrealCircleInfo = this.getUnrealCircleInfoOfObject(data)\n        if(data.children&&data.children.length>0){\n          this.getUnrealCircleInfo(data.children)\n        }\n    }\n    \n    \n  }\n\n\n  doDeepCompare(comparedata,draggingdata){\n    //深度检测符合条件的droptarget的id  如果已经有了的话  就return掉  此处后续可能会做细化处理 比如说有了之后 后面又出来一个满足条件的 这时候比较两者谁更小 但是我想一般脑图也没有这样的需求\n    // if(this.currentAboutToDropTargetId) return\n    \n    if(_.isArray(comparedata)){\n      comparedata.forEach(item => {\n        this.doDeepCompare(item,draggingdata)\n      });\n    }else if(_.isPlainObject(comparedata)){\n      // console.log(comparedata)\n      \n      let distance = Math.sqrt(Math.pow((comparedata.unrealCircleInfo.center.x-draggingdata.center.x),2) + Math.pow((comparedata.unrealCircleInfo.center.y-draggingdata.center.y),2)) \n      let maxDistanceIfCross = comparedata.unrealCircleInfo.radius + draggingdata.radius\n       \n      if(distance<=maxDistanceIfCross){\n        this.currentAboutToDropTargetId = comparedata.id\n        \n      }else{\n        if(comparedata.children && comparedata.children.length>0){\n          this.doDeepCompare(comparedata.children,draggingdata)\n        }\n      }\n\n      \n    }\n\n  }\n}\n ","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL215dGVzdC9teXRlc3QuY29tcG9uZW50LmNzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-mytest',\n  templateUrl: './mytest.component.html',\n  styleUrls: ['./mytest.component.css']\n})\nexport class MytestComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","module.exports = \".mindmap-wrapper{\\r\\n    height: 100%;\\r\\n}\\r\\n.mindmapsvg{\\r\\n    height:100%;\\r\\n    width: 100%;\\r\\n}\\r\\n.movingsvg{\\r\\n    position: absolute;\\r\\n    top: 0;\\r\\n    left: 0;\\r\\n    display: none;\\r\\n    overflow: visible !important;\\r\\n    /* background: red; */\\r\\n}\\r\\n.actived.movingsvg{\\r\\n    display: block;\\r\\n}\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGVzdG1pbmQvdGVzdG1pbmQuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFlBQVk7QUFDaEI7QUFDQTtJQUNJLFdBQVc7SUFDWCxXQUFXO0FBQ2Y7QUFDQTtJQUNJLGtCQUFrQjtJQUNsQixNQUFNO0lBQ04sT0FBTztJQUNQLGFBQWE7SUFDYiw0QkFBNEI7SUFDNUIscUJBQXFCO0FBQ3pCO0FBQ0E7SUFDSSxjQUFjO0FBQ2xCIiwiZmlsZSI6InNyYy9hcHAvdGVzdG1pbmQvdGVzdG1pbmQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbIi5taW5kbWFwLXdyYXBwZXJ7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuLm1pbmRtYXBzdmd7XHJcbiAgICBoZWlnaHQ6MTAwJTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcbi5tb3Zpbmdzdmd7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDA7XHJcbiAgICBsZWZ0OiAwO1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICAgIG92ZXJmbG93OiB2aXNpYmxlICFpbXBvcnRhbnQ7XHJcbiAgICAvKiBiYWNrZ3JvdW5kOiByZWQ7ICovXHJcbn1cclxuLmFjdGl2ZWQubW92aW5nc3Zne1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport * as D3 from 'd3'\nimport * as _ from 'lodash'\n\n@Component({\n  selector: 'app-testmind',\n  templateUrl: './testmind.component.html',\n  styleUrls: ['./testmind.component.css']\n})\nexport class TestmindComponent implements OnInit {\n\n  constructor() { }\n\n  mindmapdata:any[] = [\n    {\n      text:'123',\n      parttenInfo:[\n        {width:200,y0:0},{width:200,y0:150}\n      ],\n      id:0,\n      position:{x:0,y:0},\n      children:[\n        {\n          text:'122',\n          parttenInfo:[\n            {width:200,y0:0},{width:200,y0:150}\n          ],\n          id:1,\n          position:{x:0,y:150},\n          children:[\n            {\n              text:'1223',\n              parttenInfo:[\n                {width:200,y0:0},{width:200,y0:150}\n              ],\n              id:6,\n              position:{x:0,y:300},\n              children:[\n                \n              ]\n            },\n          ]\n        },\n        \n      ]\n    },\n    // {\n    //   text:'111',\n    //   parttenInfo:[\n    //     {width:200,y0:0},{width:200,y0:150}\n    //   ],\n    //   id:3,\n    //   position:{x:300,y:150},\n    //   children:[\n    //     {\n    //       text:'911',\n    //       parttenInfo:[\n    //         {width:200,y0:0},{width:200,y0:150}\n    //       ],\n    //       id:4,\n    //       position:{x:0,y:150},\n    //       children:[\n    //         {\n    //           text:'811',\n    //           parttenInfo:[\n    //             {width:200,y0:0},{width:200,y0:150}\n    //           ],\n    //           id:5,\n    //           position:{x:0,y:150},\n    //           children:[\n                \n    //           ]\n    //         }\n    //       ]\n    //     },\n        \n    //   ]\n    // }\n  ]\n\n  movingMindmapData:any[] = []\n\n  prevMindmapData:any[] = []\n  currentDraggingData:any = null\n \n  currentDraggingDataPrevParent:any = null\n\n  ngOnInit() {\n    let target =[]\n    this.mindmapdata.forEach((d)=>{\n      let root = D3.hierarchy(d)\n      target.push(root)\n    })\n    this.initsvg(target)\n\n  }\n  initsvg(target){\n    // console.log(target)\n    let _this = this\n\n    let drawtype = D3.area()\n    .x0(function(d){\n      return 0;\n    })\n    .x1(function(d){\n      return d.width;\n    })\n    .y(function(d){\n      \n      return d.y0;\n    })\n\n    \n  \n\n    let svg = D3.select('svg.mindmapsvg')\n    .selectAll('g.block')\n    .data(\n      target,\n      function(d){\n        return d.data.id\n      }\n    )\n\n    svg\n    .enter()\n    .append('g')\n    .classed('block',true)\n\n    svg.exit().remove()\n     \n\n\n    D3.select('svg.mindmapsvg')\n    .selectAll('g.block')\n    .each(\n      function(d){\n       \n        let mydata = d.descendants()\n        let mynode = D3.select(this)\n        .selectAll('g')\n        .data(\n          mydata,\n          function(d){\n            return d.data.id\n          }\n        )\n\n        mynode.exit().remove()\n        \n        mynode\n        .enter()\n        .append('g')\n        .classed('draggingwrapper',true)\n        .attr(\"transform\",function(d){\n          \n          return `translate(${d.data.position.x},${d.data.position.y})`\n        })\n        .append('path')\n        .attr(\"stroke\",\"#555\")\n        .attr(\"stroke-opacity\",0.4)\n        .attr(\"stroke-width\",1.5)\n        .attr('fill', '#ffee4d')\n        .classed('mytest',(d)=>{\n          return true\n        })\n        .attr('d',function(d){\n          \n          return drawtype(d.data.parttenInfo)\n        })\n        .call(\n          D3.drag()\n          .container(function(d){\n            return this.farthestViewportElement\n          })\n          .subject(function(data){\n\n            let t = D3.select(this.parentNode)\n            .attr('transform').split(',')\n\n            let clientx = Number(t[0].split('(')[1])\n            let clienty = Number(t[1].split(')')[0])    \n            return {x:clientx,y: clienty}\n    \n          })\n          .on('start',function(d){\n            //找出当前的this代表的数据在总的mindmapdata中归属于哪个对象\n            // console.log(d)\n    \n            _this.currentDraggingData = _.cloneDeep(d)\n\n\n            _this.prevMindmapData = _.cloneDeep(_this.mindmapdata)\n\n            _this.temporaryChange(d)\n          })\n          .on('drag',function(data){\n            // let t = D3.select(this.parentNode)\n            \n            let t = D3.select('svg.movingsvg')\n            .attr('transform').split(',')\n\n            let clientx = Number(t[0].split('(')[1])\n            let clienty = Number(t[1].split(')')[0])    \n           \n            D3.select('svg.movingsvg').attr('transform', `translate(${clientx += D3.event.dx },${clienty+=D3.event.dy })`)\n\n            D3.select(this.parentNode).attr('transform', `translate(${D3.event.subject.x += D3.event.dx },${D3.event.subject.y +=D3.event.dy })`)\n          })\n          .on('end',function(d){\n       \n            // d.data.position.x = (D3.event.subject.x += D3.event.dx)\n            // d.data.position.y = (D3.event.subject.y += D3.event.dy)\n\n\n            let obj ={\n              x:d.data.position.x -(D3.event.subject.x += D3.event.dx),\n              y:d.data.position.y - (D3.event.subject.y += D3.event.dy)\n            }\n       \n            _this.handleCountCurrentDraggingData(_this.currentDraggingData.data,obj)\n            \n           \n        \n            \n            // .attr('transform', `translate(${clienx},${clieny})`)\n\n            _this.handleResetMindmapData()\n    \n          })\n          \n    \n        )\n        .each(\n          function(d){\n            D3.select(this.parentNode)\n            .append('text')\n            .attr(\"y\",function(d){\n              return 10\n            })\n            .style(\"fill\", \"red\")\n            .text(function(d){\n            \n              return d.data.text\n            })\n            .attr('dy','.35em')\n          }\n        )\n\n        \n      }\n    )\n  }\n  temporaryChange(selfdata){\n    let nodelist = selfdata.ancestors()\n\n    let ancestorsparent = _.find(this.mindmapdata,{id:nodelist[nodelist.length-1].data.id})\n    let directparent = nodelist[1]?this.getSelfFromTree(ancestorsparent,nodelist[1].data.id):null\n\n\n    let self = this.getSelfFromTree(ancestorsparent,selfdata.data.id)\n    // debugger\n    if(directparent){\n\n      _.remove(directparent.children,{id:self.id})\n      this.currentDraggingDataPrevParent = directparent\n    \n    }else{\n      \n      _.remove(this.mindmapdata,{id:self.id})\n      this.currentDraggingDataPrevParent = this.mindmapdata\n    }\n\n    let target =[]\n    this.mindmapdata.forEach((d)=>{\n      \n      let root = D3.hierarchy(d)\n      target.push(root)\n    })\n    \n    this.initsvg(target)\n    \n    \n\n    this.movingMindmapData.push(_.cloneDeep(this.currentDraggingData)) \n\n    this.handleMovingMindmapData()\n\n    \n\n    this.initMovingMindmapSvg()\n\n  }\n  getSelfFromTree(data,targetid:number,target=null){\n   \n    if(!target){\n      if(_.isArray(data)){\n        let t = _.find(data,{id:targetid}) \n        if(t){\n          target = t\n         \n        }else{\n          data.forEach(element => {\n            let t = this.getSelfFromTree(element,targetid,target)\n            if(t){\n              target = t\n            }\n          });\n        }\n        return target\n     \n      }else if(_.isPlainObject(data)){\n        if(data.id==targetid){ \n          target = data\n        }else{\n          data.children.forEach(element => {\n            let t = this.getSelfFromTree(element,targetid,target)\n            if(t){\n              target = t\n            }\n          });\n        }\n        return target&&target\n      }\n\n      \n    }\n    \n  }\n\n  handleResetMindmapData(){\n    \n    if(_.isPlainObject(this.currentDraggingDataPrevParent)){\n    \n      this.currentDraggingDataPrevParent.children.push(_.cloneDeep(this.currentDraggingData.data))\n     \n    }else{\n\n      this.mindmapdata.push(_.cloneDeep(this.currentDraggingData.data))\n      \n    }\n    this.mindmapdata\n   \n    // this.currentDraggingData = null\n    let target =[]\n    this.mindmapdata.forEach((d)=>{\n    \n      let root = D3.hierarchy(d)\n      target.push(root)\n    })\n\n    this.initsvg(target)\n\n    D3.select('svg.movingsvg').classed('actived',false)\n    D3.select('svg.movingsvg')\n    .selectAll('g.block')\n    .remove()\n\n    this.movingMindmapData = []\n\n\n  }\n\n  handleCountCurrentDraggingData(target,data){\n    target.position.x -= data.x\n    target.position.y -= data.y\n\n    console.log(target.position)\n    if(target.children.length>0){\n      target.children.forEach(element => {\n        this.handleCountCurrentDraggingData(element,data)\n      });\n      \n    }\n    \n  }\n\n  initMovingMindmapSvg(){\n  \n    let _this = this\n\n    // this.handleMovingMindmapData()\n\n    let drawtype = D3.area()\n    .x0(function(d){\n      return 0;\n    })\n    .x1(function(d){\n      return d.width;\n    })\n    .y(function(d){\n      \n      return d.y0;\n    })\n\n    \n    D3.select('svg.movingsvg').classed('actived',true)\n\n    let array = []\n    _this.currentDraggingData.descendants().forEach(element => {\n      array.push(_.cloneDeep(element.data.position))\n    });\n    let clienx = _.sortBy(array,'x')[0].x\n    let clieny = _.sortBy(array,'y')[0].y\n    D3.select('svg.movingsvg').attr('transform', `translate(${clienx},${clieny})`)\n\n    let svg = D3.select('svg.movingsvg')\n    .selectAll('g.block')\n    .data(\n      this.movingMindmapData,\n      function(d){\n        return d.data.id\n      }\n    )\n\n    svg\n    .enter()\n    .append('g')\n    .classed('block',true)\n\n    svg.exit().remove()\n\n    D3.select('svg.movingsvg')\n    .selectAll('g.block')\n    .each(\n      function(d){\n       \n        let mydata = d.descendants()\n        let mynode = D3.select(this)\n        .selectAll('g')\n        .data(\n          mydata,\n          function(d){\n            return d.data.id\n          }\n        )\n\n        mynode.exit().remove()\n        \n        mynode\n        .enter()\n        .append('g')\n        .classed('draggingwrapper',true)\n        .attr(\"transform\",function(d){\n          console.log(d.data.position)\n          return `translate(${d.data.position.x},${d.data.position.y})`\n        })\n        .append('path')\n        .attr(\"stroke\",\"#555\")\n        .attr(\"stroke-opacity\",0.4)\n        .attr(\"stroke-width\",1.5)\n        .attr('fill', '#ffee4d')\n        .attr('d',function(d){      \n          return drawtype(d.data.parttenInfo)\n        })\n        .each(\n          function(d){\n            D3.select(this.parentNode)\n            .append('text')\n            .attr(\"y\",function(d){\n              return 10\n            })\n            .style(\"fill\", \"red\")\n            .text(function(d){\n            \n              return d.data.text\n            })\n            .attr('dy','.35em')\n          }\n        )\n\n        \n      }\n    )\n    // console.log(this.movingMindmapData)\n\n  }\n  handleMovingMindmapData(){\n    let array = []\n    this.currentDraggingData.descendants().forEach(element => {\n      array.push(_.cloneDeep(element.data.position))\n    });\n    let clienx = _.sortBy(array,'x')[0].x\n    let clieny = _.sortBy(array,'y')[0].y\n    let obj ={\n      x:clienx,\n      y:clieny\n    }\n    // debugger\n    this.handleCountCurrentDraggingData(this.movingMindmapData[0].data,obj)\n    \n    \n\n  }\n\n\n\n  \n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}